<!DOCTYPE html>

<html lang = "en"
	xmlns= "http://www.w3.org/1999/xhtml"
	xmlns:h = "http://xmlns.jcp.org/jsf/html"
	xmlns:f = "http://xmlns.jcp.org/jsf/core"
	xmlns:ui = "http://xmlns.jcp.org/jsf/facelets"> <!-- JSF UI component -->
	
	<f:metadata>
		<f:event listener="#{playerController.loadPlayersByGoals}" type="preRenderView" />
	</f:metadata>
	
	<h:head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0 "/>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	
	
		<title>Fightin Beavs Hockey Stats</title>
		<h:outputStylesheet library="css" name="style.css" />
	</h:head> 

	<h:body>
	
	<div id="wrapper">
		<div id="header">
			<h2>Fightin Beavs Hockey Stats</h2>
		</div>
	</div>
	
	<div id="container">
		<div id="content">
			<h:messages globalOnly="true" />
			<h:button value="Add Player" styleClass="add-student-button" outcome="add_player_form.xhtml"/>
			
			<h:form>
				<h:dataTable  value="#{playerController.players}" var="tempPlayer" 
				styleClass="demo-table" 
				headerClass="demo-table-header" 
				rowClasses="demo-table-odd-row, demo-table-even-row">
				
					<h:column>
					    <f:facet name="header">
					    	<h:commandLink action="#{playerController.loadPlayersByNumber}">
					    	   Number
					    	</h:commandLink>
					    </f:facet>
					    #{tempPlayer.number}
					</h:column>
					<h:column>
					    <f:facet name="header">
					    	<div style="color:black">First Name:</div>
					    	<h:commandLink action="#{playerController.loadPlayersByFirstName}">
					    	   A to Z
					    	</h:commandLink>
					    	<h:commandLink action="#{playerController.loadPlayersByFirstNameZtoA}">
					    	   Z to A
					    	</h:commandLink>
					    </f:facet>
					    #{tempPlayer.firstName}
					</h:column>
					<h:column>
					    <f:facet name="header">
					    	<div style="color:black">Last Name:</div>
					    	<h:commandLink action="#{playerController.loadPlayersByLastName}">
					    	   A to Z
					    	</h:commandLink>
					    	<h:commandLink action="#{playerController.loadPlayersByLastNameZtoA}">
					    	   Z to A
					    	</h:commandLink>
					    </f:facet>
					    #{tempPlayer.lastName}
					</h:column>		
					<h:column>
					    <f:facet name="header">
					    	<h:commandLink action="#{playerController.loadPlayersByGamesPlayed}">
					    	   Games Played
					    	</h:commandLink>
					    </f:facet>
					    #{tempPlayer.gamesPlayed}
					</h:column>			
					<h:column>
					    <f:facet name="header">
					    	<h:commandLink action="#{playerController.loadPlayersByGoals}">
					    	   Goals
					    	</h:commandLink>
					    </f:facet>
					    #{tempPlayer.goals}
					</h:column>	
					<h:column>
					    <f:facet name="header">
					    	<h:commandLink action="#{playerController.loadPlayersByAssists}">
					    	   Assists
					    	</h:commandLink>
					    </f:facet>
					    #{tempPlayer.assists}
					</h:column>						
					<h:column>
					    <f:facet name="header">
					    	<h:commandLink action="#{playerController.loadPlayersByPoints}">
					    	   Points
					    	</h:commandLink>
					    </f:facet>
					    #{tempPlayer.points}
					</h:column>	
					<h:column>
					    <f:facet name="header">
					    	<h:commandLink action="#{playerController.loadPlayersByPim}">
					    	   PIM
					    	</h:commandLink>
					    </f:facet>
					    #{tempPlayer.pim}
					</h:column>		
					<h:column>
						<!-- The Column Header -->
						<f:facet name="header"><p> Action </p></f:facet>
						
						<!-- The Value for Each Row -->
						<h:commandLink value="Update Player Stats" action="#{playerController.loadPlayers(tempPlayer.id)}"/>
						|
						<h:commandLink value="Delete Player" 
						onclick="if (!confirm ('Are you sure you want to delete this player? The player and their stats will be removed permanently')) return false" 
						action="#{playerController.deletePlayer(tempPlayer.id)}"/>
						
					</h:column>	
				</h:dataTable>
			</h:form>
		</div>
	</div>
	</h:body>
</html>
